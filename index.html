<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header Section -->
    <header class="header">
        <h1>ðŸ“¦ Inventory Tracker</h1>
        <p class="date-display" id="currentDate"></p>
    </header>

    <!-- Tab Navigation -->
    <nav class="tabs">
        <button class="tab-button active" data-tab="inventory">Inventory</button>
        <button class="tab-button" data-tab="withdraw">Withdraw Items</button>
        <button class="tab-button" data-tab="reports">Reports</button>
    </nav>

    <!-- Main Content Container -->
    <main class="container">

        <!-- INVENTORY TAB -->
        <div id="inventory-tab" class="tab-content active">
            <div class="section">
                <div class="section-header">
                    <h2>Add New Item</h2>
                    <button class="btn-secondary" id="manageCategoriesBtn">Manage Categories</button>
                </div>

                <!-- Add Item Form -->
                <form id="addItemForm" class="form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="itemName">Item Name *</label>
                            <input type="text" id="itemName" name="name" required placeholder="e.g., Laptop">
                        </div>

                        <div class="form-group">
                            <label for="itemCategory">Category *</label>
                            <select id="itemCategory" name="category" required>
                                <!-- Populated by JavaScript -->
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="itemQuantity">Quantity *</label>
                            <input type="number" id="itemQuantity" name="quantity" required min="0" step="1" placeholder="0">
                        </div>

                        <div class="form-group">
                            <label for="itemCost">Unit Cost ($) *</label>
                            <input type="number" id="itemCost" name="unitCost" required min="0" step="0.01" placeholder="0.00">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="itemDescription">Description (Optional)</label>
                        <textarea id="itemDescription" name="description" rows="2" placeholder="Additional notes about this item"></textarea>
                    </div>

                    <button type="submit" class="btn-primary">Add Item</button>
                </form>
            </div>

            <div class="section">
                <div class="section-header">
                    <h2>Current Inventory</h2>
                    <div class="search-box">
                        <input type="text" id="searchInventory" placeholder="Search items...">
                    </div>
                </div>

                <!-- Inventory Table -->
                <div class="table-container">
                    <table id="inventoryTable" class="data-table">
                        <thead>
                            <tr>
                                <th>Item Name</th>
                                <th>Category</th>
                                <th>Quantity</th>
                                <th>Unit Cost</th>
                                <th>Total Value</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="inventoryTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                    <div id="emptyInventoryMessage" class="empty-message" style="display: none;">
                        <p>No items in inventory. Add your first item using the form above!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- WITHDRAW ITEMS TAB -->
        <div id="withdraw-tab" class="tab-content">
            <div class="section">
                <h2>Withdraw Items from Inventory</h2>

                <!-- Withdraw Form -->
                <form id="withdrawForm" class="form">
                    <div class="form-group">
                        <label for="withdrawItem">Select Item *</label>
                        <select id="withdrawItem" name="itemId" required>
                            <option value="">-- Select an item --</option>
                            <!-- Populated by JavaScript -->
                        </select>
                    </div>

                    <div id="withdrawDetails" style="display: none;">
                        <div class="info-box">
                            <div class="info-item">
                                <span class="info-label">Current Stock:</span>
                                <span class="info-value" id="currentStock">0</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Unit Cost:</span>
                                <span class="info-value" id="displayUnitCost">$0.00</span>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="withdrawQuantity">Quantity to Withdraw *</label>
                                <input type="number" id="withdrawQuantity" name="quantity" required min="1" step="1" placeholder="0">
                            </div>

                            <div class="form-group">
                                <label>Estimated Cost</label>
                                <div class="cost-preview" id="costPreview">$0.00</div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="withdrawNotes">Notes (Optional)</label>
                            <textarea id="withdrawNotes" name="notes" rows="2" placeholder="Reason for withdrawal or additional notes"></textarea>
                        </div>

                        <button type="submit" class="btn-primary" id="withdrawButton">Withdraw Item</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- REPORTS TAB -->
        <div id="reports-tab" class="tab-content">
            <div class="section">
                <h2>Inventory Reports</h2>

                <!-- Filters -->
                <form id="reportFilters" class="form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="filterStartDate">Start Date</label>
                            <input type="date" id="filterStartDate" name="startDate">
                        </div>

                        <div class="form-group">
                            <label for="filterEndDate">End Date</label>
                            <input type="date" id="filterEndDate" name="endDate">
                        </div>

                        <div class="form-group">
                            <label for="filterCategory">Category</label>
                            <select id="filterCategory" name="category">
                                <option value="">All Categories</option>
                                <!-- Populated by JavaScript -->
                            </select>
                        </div>
                    </div>

                    <button type="submit" class="btn-primary">Generate Report</button>
                </form>
            </div>

            <!-- Statistics Cards -->
            <div class="section">
                <h3>Summary Statistics</h3>
                <div class="stats-grid" id="statsGrid">
                    <!-- Populated by JavaScript -->
                </div>
            </div>

            <!-- Withdrawal History -->
            <div class="section">
                <h3>Withdrawal History</h3>
                <div class="table-container">
                    <table id="withdrawalTable" class="data-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Item</th>
                                <th>Category</th>
                                <th>Quantity</th>
                                <th>Unit Cost</th>
                                <th>Total Cost</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody id="withdrawalTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                    <div id="emptyReportsMessage" class="empty-message" style="display: none;">
                        <p>No withdrawal records found. Try adjusting your filters or withdraw some items first.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- MODALS -->

    <!-- Category Management Modal -->
    <div id="categoryModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>Manage Categories</h3>
                <button class="close-btn" data-modal="categoryModal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Add New Category -->
                <form id="addCategoryForm" class="form">
                    <div class="form-group">
                        <label for="newCategoryName">New Category Name</label>
                        <div class="input-group">
                            <input type="text" id="newCategoryName" placeholder="e.g., Raw Materials" required>
                            <button type="submit" class="btn-primary">Add</button>
                        </div>
                    </div>
                </form>

                <!-- Existing Categories List -->
                <h4>Existing Categories</h4>
                <ul id="categoryList" class="category-list">
                    <!-- Populated by JavaScript -->
                </ul>
            </div>
        </div>
    </div>

    <!-- Edit Item Modal -->
    <div id="editModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>Edit Item</h3>
                <button class="close-btn" data-modal="editModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editItemForm" class="form">
                    <input type="hidden" id="editItemId">

                    <div class="form-group">
                        <label for="editItemName">Item Name *</label>
                        <input type="text" id="editItemName" name="name" required>
                    </div>

                    <div class="form-group">
                        <label for="editItemCategory">Category *</label>
                        <select id="editItemCategory" name="category" required>
                            <!-- Populated by JavaScript -->
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="editItemQuantity">Quantity *</label>
                            <input type="number" id="editItemQuantity" name="quantity" required min="0" step="1">
                        </div>

                        <div class="form-group">
                            <label for="editItemCost">Unit Cost ($) *</label>
                            <input type="number" id="editItemCost" name="unitCost" required min="0" step="0.01">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="editItemDescription">Description</label>
                        <textarea id="editItemDescription" name="description" rows="2"></textarea>
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" data-modal="editModal">Cancel</button>
                        <button type="submit" class="btn-primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal-overlay">
        <div class="modal modal-small">
            <div class="modal-header">
                <h3 id="confirmTitle">Confirm Action</h3>
            </div>
            <div class="modal-body">
                <p id="confirmMessage">Are you sure?</p>
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" data-modal="confirmModal">Cancel</button>
                <button class="btn-danger" id="confirmButton">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer" class="notification-container"></div>

    <!-- JavaScript -->
    <script src="app.js"></script>
</body>
</html>
